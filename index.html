<html>
   <head>
      <meta charset="UTF-8">
      <title>Hello Rocketseat</title>
      <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
      <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />

      <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
      <!--Importo o arquivo styles.css que criei para estilizar essa janela -->
      <link rel="stylesheet" href="styles.css">
      </style>
   </head>
   <body>
     
      <div class="intro">

        <h1>Hi Electron!</h1>
        <p>
          We are using node <script>document.write(process.versions.node)</script>,
          Chrome <script>document.write(process.versions.chrome)</script>,
          and Electron <script>document.write(process.versions.electron)</script>.
        </p>
      
        <h3>Meu primeiro app feito em Electron, usando só HTML, CSS e JS</h3>
     
      </div>

      <div class="card__todo">
         <h2>O que vou fazer hoje?</h2>
         <input type="text" id="myInput" placeholder="Escreva sua atividade...">
         <span onclick="addNewTodo()" class="btn__add">ADD</span>
      </div>
     
      <ul id="myUL">
         <li>Inscrição na NLW02</li>
         <li class="checked">Ler o post sobre Expo</li>
         <li>Estudar JavaScript</li>
      </ul>


      <script>
         // Create a "close" button and append it to each list item
         const myNodelist = document.getElementsByTagName("LI");
         let i;
         for (i = 0; i < myNodelist.length; i++) {
           let span = document.createElement("SPAN");
           let txt = document.createTextNode("\u00D7");
           span.className = "close";
           span.appendChild(txt);
           myNodelist[i].appendChild(span);
         }

        
         
         // Click on a close button to hide the current list item
         var close = document.getElementsByClassName("close");
         let j;
         for (j = 0; j < close.length; j++) {
           close[j].onclick = function() {
             const div = this.parentElement;
             div.style.display = "none";
           }
         }

         close.map((_, index) => {
          close[index].onclick = function() {
             const div = this.parentElement;
             div.style.display = "none";
           }
         }) 


         
         // Add a "checked" symbol when clicking on a list item
         const list = document.querySelector('ul');
         list.addEventListener('click', function(ev) {
           if (ev.target.tagName === 'LI') {
             ev.target.classList.toggle('checked');
           }
         }, false);
         
         // Create a new list item when clicking on the "Add" button
         function addNewTodo() {
           const li = document.createElement("li");
           const inputValue = document.getElementById("myInput").value;
           let t = document.createTextNode(inputValue);
           li.appendChild(t);
           if (inputValue === '') {
             alert("Escreva alguma coisa!");
           } else {
             document.getElementById("myUL").appendChild(li);
           }
           document.getElementById("myInput").value = "";
         
           const span = document.createElement("SPAN");
           const txt = document.createTextNode("\u00D7");
           span.className = "close";
           span.appendChild(txt);
           li.appendChild(span);

           for (let c = 0; c < close.length; c++) {
             close[c].onclick = function() {
               const div = this.parentElement;
               div.style.display = "none";
             }
           }



         }
      </script>
   </body>
</html>